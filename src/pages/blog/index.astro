
---
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import Modal from '../../components/Modal.astro';
import '../../styles/base.css'; 
import '../../styles/modal.css';
import '../../styles/blog.css';
import BaseHead from '../../components/BaseHead.astro';
import FormattedDate from '../../components/FormattedDate.astro';
import { getCollection } from 'astro:content';

const { title } = Astro.props;

const posts = (await getCollection('blog')).sort(
	(a, b) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);
---
<BaseHead title="Blog Homepage" />

<body>
    <div class="overlay" id="overlay"></div>
    <Header />
    <main>
        <div class="container">
        <section class="blog">
            <ul>
                {
                    posts.map((post) => (
                        <li>
                            <a class="h-link" href={`/blog/${post.slug}/`}>
                               <!-- <img width={720} height={360} src={post.data.heroImage} alt="" />--> 
                                <h4 class="title">{post.data.title}</h4></a>
                                <p class="date">
                                    <FormattedDate date={post.data.pubDate} />
                                </p>
                                <hr />
                                <p>{post.data.description}</p>
                                <p><a href={`/blog/${post.slug}/`}>Continue reading...</a></p>
                            
                        </li>
                    ))
                }
            </ul>
        </section>
    </div>
    <Modal />
    </main>
    <Footer />
</body>
</html>